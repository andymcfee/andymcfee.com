<!DOCTYPE html>
<!--[if lt IE 7]>      <html class="no-js lt-ie9 lt-ie8 lt-ie7"> <![endif]-->
<!--[if IE 7]>         <html class="no-js lt-ie9 lt-ie8"> <![endif]-->
<!--[if IE 8]>         <html class="no-js lt-ie9"> <![endif]-->
<!--[if gt IE 8]><!--> <html class="no-js"> <!--<![endif]-->
  <head>
    <meta charset="utf-8">
    <meta http-equiv="X-UA-Compatible" content="IE=edge,chrome=1">
    <title> Embedding CodePens into Jekyll Blogs |  Andy McFee UX Developer</title>
    <meta name="description" content="">
    <meta name="viewport" content="width=device-width, initial-scale=1, maximum-scale=1">

    <link href='http://fonts.googleapis.com/css?family=Open+Sans:400,700' rel='stylesheet' type='text/css'>
    <link rel="stylesheet" href="/css/style.css">

    <script src="/js/vendor/modernizr-2.6.2-respond-1.1.0.min.js"></script>
  </head>
  <body>
    <!--[if lt IE 7]>
      <p class="chromeframe">You are using an <strong>outdated</strong> browser. Please <a href="http://browsehappy.com/">upgrade your browser</a> or <a href="http://www.google.com/chromeframe/?redirect=true">activate Google Chrome Frame</a> to improve your experience.</p>
    <![endif]-->

    <header>
      <a href="/" class="logo">Andy McFee</a>


      <nav class="social-icons">
        <a href="http://www.twitter.com/andymcfee" class="icon icon-twitter"></a>
        <a href="http://www.github.com/andymcfee" class="icon icon-github"></a>
        <a href="http://codepen.io/andymcfee" class="icon icon-codepen"></a>
      </nav>
    </header>

    <div class="banner">
      
         Embedding CodePens into Jekyll Blogs
      
    </div>

    <section class="main">
      <p>I love <a href='http://codepen.io'>CodePen</a>. I also love <a href='http://jekyllrb.com/'>Jekyll</a>. But apparently, they don&#8217;t play well together out of the box. This was one of the few frustrations I had when moving my blog from WordPress to Jekyll. But fear not, for I have found a way to embed CodePens once more!</p>

<h1 id='out_of_async'>Out of async</h1>

<p>Well, the problem isn&#8217;t Jekyll <em>specifically</em>, it&#8217;s actually Markdown. If your Jekyll blog is all in <code>.html</code> files, then (I assume) you won&#8217;t have this problem. But you write all you posts in Markdown now because it&#8217;s 2013 and that&#8217;s what all the cool kids are doing these days, right?</p>

<p>Anyway, if you go to CodePen, copy your embed code and paste it into your post, it should look something like this:</p>

<pre><code>&lt;pre class=&quot;codepen&quot; data-height=&quot;470&quot; data-type=&quot;result&quot; data-href=&quot;kjmBd&quot; data-user=&quot;andymcfee&quot; data-safe=&quot;true&quot;&gt;&lt;code&gt;&lt;/code&gt;&lt;a href=&quot;http://codepen.io/andymcfee/pen/kjmBd&quot;&gt;Check out this Pen!&lt;/a&gt;&lt;/pre&gt;
&lt;script async src=&quot;http://codepen.io/assets/embed/ei.js&quot;&gt;&lt;/script&gt;</code></pre>

<p>Pretty simple, right? The problem is, when you try to generate your _site, you will get a parsing error that says:</p>

<pre><code>REXML could not parse this XML/HTML:
&lt;script async src=&quot;http://codepen.io/assets/embed/ei.js&quot;&gt;&lt;/script&gt;</code></pre>

<p>I don&#8217;t know enough about how Markdown parses HTML and script tags to explain what&#8217;s wrong here, but I do know that if you remove <code>async</code> from the script tag, your REXML parsing problem will be solved.</p>

<h1 id='i_need_some_space'>I need some space</h1>

<p>Ok so now your page will render, but everything on your page after your newly embedded content will be broken. This is the result of <a href='https://github.com/mojombo/jekyll/wiki/Markup-Problems'>issue with the Maruku markdown engine</a>, but there&#8217;s an easy fix here too: just add a space inbetween <strong>all</strong>* of your embedded tags (<code>&lt;pre&gt;</code>, <code>&lt;code&gt;</code>, <code>&lt;script&gt;</code> and <code>&lt;a&gt;</code>) like so:</p>

<pre><code>&lt;pre class=&quot;codepen&quot; data-height=&quot;470&quot; data-type=&quot;result&quot; data-href=&quot;kjmBd&quot; data-user=&quot;andymcfee&quot; data-safe=&quot;true&quot;&gt; &lt;code&gt; &lt;/code&gt; &lt;a href=&quot;http://codepen.io/andymcfee/pen/kjmBd&quot;&gt;Check out this Pen!&lt;/a&gt; &lt;/pre&gt;
&lt;script src=&quot;http://codepen.io/assets/embed/ei.js&quot;&gt; &lt;/script&gt;</code></pre>

<p>And there you go! Your CodePen is now embedded and should work just fine on your site.</p>

<h1 id='tldr'>tl;dr</h1>

<p>To embed CodePens onto your Jekyll-based blog using markdown syntax</p>

<ul>
<li>Remove <code>async</code> from the script tag</li>

<li>Put a space between <strong>every</strong> embedded tag like so: <code>&lt;code&gt; &lt;/code&gt;</code></li>
</ul>

<p>Now, enjoy this HTML/CSS Calculator Pen I&#8217;ve been working on:</p>
<pre class='codepen' data-height='470' data-href='kjmBd' data-safe='true' data-type='result' data-user='andymcfee'> <code> </code> <a href='http://codepen.io/andymcfee/pen/kjmBd'>Check out this Pen!</a> </pre><script src='http://codepen.io/assets/embed/ei.js'> </script>

      
        <div id="disqus_thread" class="comments"></div>
        <script type="text/javascript">
        var disqus_shortname = 'andymcfee';

        (function() {
            var dsq = document.createElement('script'); dsq.type = 'text/javascript'; dsq.async = true;
            dsq.src = 'http://' + disqus_shortname + '.disqus.com/embed.js';
            (document.getElementsByTagName('head')[0] || document.getElementsByTagName('body')[0]).appendChild(dsq);
        })();
        </script>
        <noscript>Please enable JavaScript to view the <a href="http://disqus.com/?ref_noscript">comments.</a></noscript>

      
    </section>


    <script src="//ajax.googleapis.com/ajax/libs/jquery/1.9.1/jquery.min.js"></script>
    <script>window.jQuery || document.write('<script src="/js/vendor/jquery-1.9.1.min.js"><\/script>')</script>

    <script src="/js/plugins.js"></script>
    <script src="/js/main.js"></script>

    <script>
      var _gaq=[['_setAccount','UA-5322170-1'],['_trackPageview']];
      (function(d,t){var g=d.createElement(t),s=d.getElementsByTagName(t)[0];
      g.src=('https:'==location.protocol?'//ssl':'//www')+'.google-analytics.com/ga.js';
      s.parentNode.insertBefore(g,s)}(document,'script'));
    </script>
  </body>
</html>
